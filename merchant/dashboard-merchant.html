<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encode AI</title>
    <!-- Bootstrap CSS -->
    <link href="./node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <!-- Include Navbar -->
    <iframe src="../navbar.html" style="width: 100%; height: 100px; border: none;"></iframe>

    <!-- Main Content -->
<div class="container-fluid">
    <h1 class="m-5">Merchant Dashboard</h1>
    <div class="row">
        <div class="col col-md-3 border d-flex flex-column m-5">
            <div class="pt-5">
                <h4>Business Name</h4>
            </div>
            <!-- New container at the bottom of col 1 -->
            <div class="bottom-container mt-auto pb-3">
                <div class="card">
                    <div class="card-body">
                      <h5 class="card-title">Name</h5>
                      <p class="card-text my-1">Public Key: </p>
                      <h6 class="card-subtitle mb-2 text-body-secondary">PublicKeyHereasdfasfnjawfpuionasdf2awtfygbuhnijl</h6>
                      <a href="#" class="card-link">Profile</a>
                      <a href="#" class="card-link">Copy Address</a>
                    </div>
                  </div>
            </div>
        </div>

        <div class="col col-md-8 border p-5">
            <h4>Heatmap</h4>
            <div id="heatmap"></div>
        </div>

    </div>
</div>


    <!-- Bootstrap JS -->
    <script src="./node_modules/jquery/dist/jquery.min.js"></script>
    <script src="./node_modules/popper.js/dist/umd/popper.min.js"></script>
    <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>#
    
    <script>
        // Sample data with categorical labels
        var categories = ['food', 'fashion', 'electronics', 'books', 'toys', 'sports', 'home', 'health', 'beauty', 'music', 'games'];
        var values = [5, 2, 6, 3, 4, 7, 8, 2, 5, 6, 9];

        // Sort categories and corresponding values
        var sortedIndices = values.map((value, index) => index).sort((a, b) => values[b] - values[a]);
        var sortedCategories = sortedIndices.map(index => categories[index]);
        var sortedValues = sortedIndices.map(index => values[index]);

        // Prepare data for the heatmap
        var data = [
            { 
                x: sortedCategories, 
                y: ['category'], 
                z: [sortedValues], 
                type: 'heatmap' 
            }
        ];

        // Layout configuration for the heatmap
        var layout = {
            title: "Trending Markets",
            xaxis: { 
                title: 'Category',
                tickfont: { size: 16 } // Adjust font size here
            },
            yaxis: { 
                title: "",
                tickfont: { size: 16 } // Adjust font size here
            }
        };

        // Plotting the heatmap inside the specified div container
        Plotly.newPlot('heatmap', data, layout);
    </script>
</body>
</html>
